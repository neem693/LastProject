<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="toto">


<insert id="insert_toto_schdule" parameterType="java.util.Map">

   INSERT INTO toto_schdule(winner_ratio,lose_ratio,p_idx,toto_place) VALUES                                           
                         <!-- list는 map으로 보낸 데이터의 키값이다.-->
     
                       <foreach collection="list" item="vo" separator=",">
           				(          				
           				 #{vo.winner_ratio},
           				 #{vo.lose_ratio},          	
           				 #{vo.p_idx},
           				 #{vo.toto_place}    			 
        				    )
        				</foreach>   
  
</insert>
	
	<delete id="delete_table">
	truncate table toto_schdule
	</delete>

											     			
	<update id="update_table" parameterType="vo.TotoValueVo">
		<!-- 미사용 -->
          			update toto_schdule set	    			 
           			home_team= #{home_team}, 
           	     	away_team= #{away_team},
           			winner_ratio=#{winner_ratio},
           		    lost_ratio= #{lose_ratio},
           			toto_place=#{toto_place}              			
           			where toto_idx=#{toto_idx}        		    				 		  
	  </update>


    <select id="select_game_list" resultType="vo.Toto_sch_Vo">
 	<!-- 게임 일정  -->
		SELECT t.*,p.p_date,p.p_score,p.p_rts,p.s_idx,p.t_home,p.t_away
		FROM toto_schdule t LEFT OUTER JOIN play p
		ON t.p_idx = p.p_idx
 
    </select>



</mapper>
